<div class="sidebar-section" [class.hidden-menu]="hiddenMenu$ | async">
    <div class="sidebar-section__title">{{titleSection}}</div>

    <ul class="sidebar-menu">
        <li class="sidebar-item" *ngFor="let menu of menuData; let i = index;">
            <ng-container *ngIf="menu.type === 'link'; else dropdownTemplate">
                <a  [routerLink]="menu.link" class="sidebar-item__a">
                    <div class="sidebar-item__box">
                      <i class="material-icons-outlined sidebar__icon">{{ menu.iconLeft }}</i>
                      <span class="sidebar__label">{{ menu.label }}</span>
                    </div>
                </a>
            </ng-container>
            
            <ng-template #dropdownTemplate>
                <button (click)="toggleMenu(i)" type="button" class="sidebar-item__btn dropdown-toggle">
  
                    <div class="sidebar-item__box">
                      <i class="material-icons-outlined sidebar__icon">{{ menu.iconLeft }}</i>
                      <span class="sidebar__label">{{ menu.label }}</span>
                    </div>
                    <i class="material-icons-outlined sidebar__icon sidebar-item__icon-arrow" [class.animateArrow]="activeMenu === i">{{menu.iconRight}}</i>
                  </button>

                  <ul class="dropdown-menu" [class.show-menu]="activeMenu === i">
  
                    <li class="dropdown-item sidebar-item" *ngFor="let submenu of menu.items; let j = index;">
                      <button (click)="toggleSubMenu(j)" type="button" class="sidebar-item__btn dropdown-toggle">
  
                        <div class="sidebar-item__box">
                          <i class="material-icons-outlined sidebar__icon">{{ submenu.iconLeft }}</i>
                          <span class="dropdown__label">{{ submenu.label }}</span>
                        </div>
                        <i class="material-icons-outlined sidebar__icon dropdown__icon-arrow" [class.animateArrow]="activeSubMenu === j">{{ submenu.iconRight }}</i>
                      </button>
  
                        <ul class="dropdown-submenu" [class.show-submenu]="activeSubMenu === j">
                          <li class="dropdown-subitem sidebar-item" *ngFor="let subitem of submenu.items">
                         
                            <a class="dropdown-subitem__a sidebar-item__a" [routerLink]="subitem.link" routerLinkActive="isActive">
  
                              <div class="sidebar-item__box">
                                <i class="material-icons-outlined sidebar__icon">{{ submenu.iconLeft }}</i>
                                <span class="dropdown__label">{{ subitem.label }}</span>
                              </div>
                              <!-- <i class="material-icons-outlined sidebar__icon sidebar-menu__icon">{{ submenu.iconRight }}</i> -->
                            </a>
                          </li>
                        </ul>
                    </li>
  
                  </ul>
            </ng-template>
            
        </li>
    </ul>
</div>